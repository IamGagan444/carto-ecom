import{b as f,c as j,r as m,j as e,L as N,f as s,q as g}from"./index-7f94716b.js";import{P as y,a as k}from"./index.esm-36d528c5.js";import{b as v}from"./index.esm-d6b6d9d6.js";import{a as w,b as C}from"./index.esm-619364ff.js";import{b as S}from"./index.esm-bc5e2669.js";import{L}from"./LazyImage-0e2433fb.js";import"./iconBase-c31362de.js";const A=()=>{const{user:t,isLoading:p,logout:u}=f(),i=j(),[a,n]=m.useState(JSON.parse(localStorage.getItem("userData"))||{name:"",email:"",phoneNumber:"",profile:""});m.useEffect(()=>{JSON.parse(localStorage.getItem("userData"))||n({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phoneNumber:"",profile:(t==null?void 0:t.picture)||""})},[t]),console.log(a.profile);const b=l=>{const o=l.target.files[0];if(o){const r=new FileReader;r.onloadend=()=>{n(d=>({...d,profile:r.result}))},r.readAsDataURL(o)}},c=l=>{const{name:o,value:r}=l.target;n(d=>({...d,[o]:r}))},x=JSON.parse(localStorage.getItem("allOrders")),h=()=>{localStorage.setItem("userData",JSON.stringify(a)),g.success("profile updated")};return p?e.jsx("div",{className:"h-screen grid place-items-center bg-white bottom-0 top-0 right-0 left-0",children:e.jsx(N,{})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"profile-bg mt-[4.4rem]",children:e.jsxs("div",{className:"w-full cu500:w-[500px]  mx-auto p-2 bg-gray-400 rounded-b-md bg-clip-padding backdrop-filter backdrop-blur-sm bg-opacity-20 border border-gray-100 ",children:[e.jsxs("div",{className:"w-full h-[140px] bg-sky-300 rounded-t-xl relative",children:[e.jsx("button",{onClick:()=>u({logoutParams:{returnTo:window.location.origin}}),className:"p-2 bg-gray-600  bg-clip-padding backdrop-filter backdrop-blur-sm bg-opacity-20 border border-gray-100 text-white rounded-full  m-1 absolute right-0",children:e.jsx(w,{className:"text-2xl rotate-180"})}),e.jsx("div",{className:" w-[120px] h-[120px] rounded-full border-4 border-white mx-auto  overflow-hidden hover:shadow-[0_10px_20px_#fff] duration-1000 absolute -bottom-1/3 left-1/2 transform -translate-x-1/2",children:e.jsx(L,{src:a==null?void 0:a.profile,alt:"",className:" object-contain hover:object-cover duration-1000 w-full h-full bg-white "})}),e.jsxs("div",{className:"absolute -bottom-1/3 left-[55%] ",children:[e.jsx("button",{className:"p-2 bg-black text-white rounded-full border-4 border-white",onClick:()=>document.getElementById("fileInput").click(),children:e.jsx(S,{})}),e.jsx("input",{id:"fileInput",style:{display:"none"},maxLength:1,accept:"image/*",type:"file",name:"file",onChange:b})]})]}),e.jsx("br",{}),e.jsxs("div",{className:"w-full mt-16 grid grid-cols-2 gap-2",children:[e.jsxs(s.Button,{size:"lg",variant:"gradient",color:"light-blue",className:" bg-red-500 flex items-center justify-center",onClick:()=>{x?i("/checkout/order-movement-details"):g.error("Please make orders")},children:[e.jsx(v,{className:"text-2xl"})," orders"]}),e.jsxs(s.Button,{size:"lg",variant:"gradient",color:"light-blue",className:" bg-red-500 flex items-center justify-center",onClick:()=>i("/checkout/cart"),children:[e.jsx(y,{className:"text-2xl"})," carts"]}),e.jsxs(s.Button,{size:"lg",variant:"gradient",color:"light-blue",className:" bg-red-500 flex items-center justify-center",onClick:()=>i("/checkout/wishlist"),children:[e.jsx(k,{className:"text-2xl"})," wishlist"]}),e.jsxs(s.Button,{size:"lg",variant:"gradient",color:"light-blue",className:" bg-black flex items-center justify-center",onClick:h,children:[e.jsx(C,{className:"text-2xl"})," Save"]})]}),e.jsx("br",{}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-100 my-3 text-center",children:"Personal Details"}),e.jsxs("form",{action:"",className:"text-gray-100 ",children:[e.jsx("p",{children:"Name"}),e.jsx("input",{type:"text",name:"name",value:a.name,onChange:c,placeholder:"Enter Name",className:"bg-gray-400 rounded-b-md bg-clip-padding backdrop-filter backdrop-blur-sm bg-opacity-20 border border-gray-100 w-full p-2 focus:outline-none focus:bg-transparent my-1 capitalize "}),e.jsx("p",{className:"mt-3",children:"Email"}),e.jsx("input",{type:"text",name:"email",value:a==null?void 0:a.email,onChange:c,placeholder:"Email Address",className:"bg-gray-400 rounded-b-md bg-clip-padding backdrop-filter backdrop-blur-sm bg-opacity-20 border border-gray-100 w-full p-2 focus:outline-none focus:bg-transparent my-1 "}),e.jsx("p",{className:"mt-3",children:"Phone Number"}),e.jsx("input",{type:"text",name:"phoneNumber",value:a==null?void 0:a.phoneNumber,onChange:c,placeholder:"Phone Number",className:"bg-gray-400 rounded-b-md bg-clip-padding backdrop-filter backdrop-blur-sm bg-opacity-20 border border-gray-100 w-full p-2 focus:outline-none focus:bg-transparent my-1 "})]}),e.jsx("br",{})]})]})})})};export{A as default};
